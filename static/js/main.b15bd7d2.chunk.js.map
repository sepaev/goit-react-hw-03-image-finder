{"version":3,"sources":["components/SearchBar/SearchBar.styled.jsx","components/SearchBar/SearchBar.jsx","components/ImageGallery/ImageGallery.styled.jsx","constants/constants.js","services/api.js","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","components/App/App.styled.jsx","components/App/App.jsx","reportWebVitals.js","index.js"],"names":["SearchBarHeader","styled","header","SearchForm","form","SearchButton","button","SearchButtonSpan","span","SearchInput","input","SearchBar","state","query","toastOptions","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","handleQueryChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","type","className","autocomplete","name","autoFocus","placeholder","onChange","Component","ImageGalleryUl","ul","API_PARAMS","axios","create","baseURL","responseType","ImageGalleryItemLi","li","ImageGalleryItemImg","img","ImageGalleryItem","id","src","alt","onClick","loading","OverlayDiv","div","ModalDiv","ModalImg","Modal","onTapped","modalImages","prev","next","key","exitFunc","changeNeighbors","onClickModal","target","nodeName","window","addEventListener","removeEventListener","curr","largeImageURL","tags","LoadMoreButton","Button","title","ImageGallery","response","pages","total","hits","readyForResponse","page","modalIsOpen","toggleModal","currentId","images","getNeighbors","prevState","i","length","toString","getResponse","a","imageType","orientation","perPage","api","get","params","q","image_type","per_page","status","Error","data","getClearStateObject","loadMore","componentDidUpdate","prevProps","propsQuery","doChangeStatus","changeStatus","then","prevHits","parseInt","console","dir","message","newState","setTimeout","scrollTo","top","document","documentElement","scrollHeight","behavior","map","webformatURL","uuidv4","InfoDiv","Loader","AppSection","section","InfoH1","h1","App","lastMessage","handleFormSubmit","newStatus","info","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"uTAEaA,EAAkBC,IAAOC,OAAV,qcAmBfC,EAAaF,IAAOG,KAAV,kLAUVC,EAAeJ,IAAOK,OAAV,qaAkBZC,EAAmBN,IAAOO,KAAV,iNAYhBC,EAAcR,IAAOS,MAAV,+P,OCMTC,E,4MAtDbC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,CACbC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,G,EAEZC,kBAAoB,SAAAC,GAClB,EAAKC,SAAS,CAAEZ,MAAOW,EAAEE,cAAcC,MAAMC,iB,EAG/CC,aAAe,SAAAL,GACbA,EAAEM,iBACF,IAAMjB,EAAQ,EAAKD,MAAMC,MAAMkB,OAE1BlB,GAIL,EAAKmB,MAAMC,SAASpB,GACpB,EAAKY,SAAS,CAAEZ,MAAO,MAJrBqB,IAAMC,MAAN,6BAA0C,EAAKrB,e,4CAOnD,WACE,OACE,cAACd,EAAD,UACE,eAACG,EAAD,CAAY8B,SAAUG,KAAKP,aAA3B,UACE,cAACxB,EAAD,CAAcgC,KAAK,SAAnB,SACE,cAAC9B,EAAD,uBAGF,cAACE,EAAD,CACE6B,UAAU,mBACVD,KAAK,OACLE,aAAa,MACbC,KAAK,cACLC,WAAS,EACTC,YAAY,2BACZf,MAAOS,KAAKxB,MAAMC,MAClB8B,SAAUP,KAAKb,oBAEjB,cAAC,IAAD,a,GAhDcqB,a,iCCVXC,EAAiB5C,IAAO6C,GAAV,4R,gBCDdC,EACN,qCADMA,EAEA,QAFAA,EAGE,aAHFA,EAKF,GCHIC,E,OAAAA,EAAMC,OAAO,CAC1BC,QAAQ,GAAD,ODJc,4BCKrBC,aAAc,SCHHC,EAAqBnD,IAAOoD,GAAV,sLAMlBC,EAAsBrD,IAAOsD,IAAV,sNCGjBC,EARU,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,GAAIC,EAAwB,EAAxBA,IAAKC,EAAmB,EAAnBA,IAAKC,EAAc,EAAdA,QACxC,OACE,cAACR,EAAD,UACE,cAACE,EAAD,CAAqBI,IAAKA,EAAKC,IAAKA,EAAKF,GAAIA,EAAII,QAAQ,OAAOD,QAASA,OCJlEE,EAAa7D,IAAO8D,IAAV,2OAYVC,EAAW/D,IAAO8D,IAAV,iGAIRE,GAAWhE,IAAOsD,IAAV,gDCeNW,G,4MA5BbC,SAAW,SAAA3C,GACT,MAAuB,EAAKQ,MAAMoC,YAA1BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,KACd9C,EAAEM,iBACY,WAAVN,EAAE+C,KAAkB,EAAKvC,MAAMwC,WACrB,cAAVhD,EAAE+C,KAAqB,EAAKvC,MAAMyC,gBAAgBJ,EAAKZ,IAC7C,eAAVjC,EAAE+C,KAAsB,EAAKvC,MAAMyC,gBAAgBH,EAAKb,K,EAQ9DiB,aAAe,SAAAlD,GACa,QAAtBA,EAAEmD,OAAOC,UAAoB,EAAK5C,MAAMwC,Y,uDAP9C,WACEK,OAAOC,iBAAiB,UAAW1C,KAAK+B,Y,kCAE1C,WACEU,OAAOE,oBAAoB,UAAW3C,KAAK+B,Y,oBAK7C,WACE,IAAQa,EAAS5C,KAAKJ,MAAMoC,YAApBY,KACR,OACE,cAAClB,EAAD,CAAYF,QAASxB,KAAKsC,aAA1B,SACE,cAACV,EAAD,UACE,cAACC,GAAD,CAAUP,IAAKsB,EAAKC,cAAetB,IAAKqB,EAAKE,KAAMrB,QAAQ,iB,GAtBjDjB,aCFPuC,GAAiBlF,IAAOK,OAAV,gmBCKZ8E,GAJA,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAOzB,EAAc,EAAdA,QACvB,OAAO,cAACuB,GAAD,CAAgBvB,QAASA,EAAzB,SAAmCyB,KCsL7BC,G,4MA9Kb1E,MAAQ,CACN2E,SAAU,CAAEC,MAAO,EAAGC,MAAO,EAAGC,KAAM,MACtC7E,MAAO,GACP8E,kBAAkB,EAClBC,KAAM,EACNzD,MAAO,KACP0D,aAAa,EACbzB,YAAa,M,EAGf0B,YAAc,SAAAtE,GACZ,GAAIA,EAAG,CACLA,EAAEM,iBACF,IAAMiE,EAAYvE,EAAEmD,OAAOlB,GACrBuC,EAAS,EAAKC,aAAaF,GACjC,EAAKtE,UAAS,SAAAyE,GACZ,MAAO,CAAEL,aAAcK,EAAUL,YAAazB,YAAa4B,WAG7D,EAAKvE,UAAS,SAAAyE,GACZ,MAAO,CAAEL,aAAcK,EAAUL,YAAazB,YAAa,U,EAKjEK,gBAAkB,SAAAhB,GAChB,IAAMuC,EAAS,EAAKC,aAAaxC,GACjC,EAAKhC,SAAS,CAAE2C,YAAa4B,K,EAG/BC,aAAe,SAAAxC,GACb,IAAQiC,EAAS,EAAK9E,MAAM2E,SAApBG,KACR,GAAIA,EACF,IAAK,IAAIS,EAAI,EAAGA,EAAIT,EAAKU,OAAQD,IAC/B,GAAIT,EAAKS,GAAG1C,GAAG4C,aAAe5C,EAAG4C,WAAY,CAC3C,IAAMhC,EAAa,IAAN8B,EAAUT,EAAKA,EAAKU,OAAS,GAAKV,EAAKS,EAAI,GAClD7B,EAAO6B,IAAMT,EAAKU,OAAS,EAAIV,EAAK,GAAKA,EAAKS,EAAI,GAExD,MAAO,CAAE9B,OAAMW,KADFU,EAAKS,GACG7B,QAI3B,OAAO,M,EAGTgC,Y,uCAAc,WAAOzF,GAAP,qCAAA0F,EAAA,6DAAcX,EAAd,+BAAqB,EAAKhF,MAAMgF,KACpCrB,EAAyCxB,EAApCyD,EAAoCzD,EAAzB0D,EAAyB1D,EAAZ2D,EAAY3D,EADrC,kBAGa4D,EAAIC,IAAJ,IAAa,CAClCC,OAAQ,CACNC,EAAGjG,EACH+E,OACArB,MACAwC,WAAYP,EACZC,YAAaA,EACbO,SAAUN,KAVJ,UAac,OAVlBnB,EAHI,QAaG0B,OAbH,0CAcD1B,GAdC,cAgBF,IAAI2B,MAAM,WAAa3B,EAAS0B,QAhB9B,mFAmBH,CAAEE,KAAM,CAAE1B,MAAO,EAAGC,KAAM,GAAIvD,MAAK,QAnBhC,0D,wDAuBdiF,oBAAsB,SAACvG,GAAqC,IAA9B8E,EAA6B,wDACzD,MAAO,CACLJ,SAAU,CAAEC,MAAO,EAAGC,MAAO,EAAGC,KAAM,MACtC7E,MAAOA,EACP8E,iBAAkBA,EAClBC,KAAM,EACNzD,MAAO,KACP0D,aAAa,I,EAGjBwB,SAAW,WACT,EAAK5F,SAAS,CAAEmE,KAAM,EAAKhF,MAAMgF,KAAO,EAAGD,kBAAkB,K,EAG/D2B,mB,uCAAqB,WAAOC,EAAWrB,GAAlB,6BAAAK,EAAA,yDACbiB,EAAa,EAAKxF,MAAMnB,MACxB4G,EAAiB,EAAKzF,MAAM0F,aAFf,EAGuB,EAAK9G,MAAvCC,EAHW,EAGXA,MAAO8E,EAHI,EAGJA,iBAAkBC,EAHd,EAGcA,MAG7BD,GAAoB6B,IAAe3G,EANpB,wBAOjB4G,EAAe,WACTf,EAAU3D,EARC,SASM,EAAKuD,YAAYkB,GACrCG,MAAK,SAAApC,GAAQ,OAAIA,EAAS4B,QAC1BQ,MAAK,YAA6B,IAA1BlC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,KAAMvD,EAAY,EAAZA,MACpB,GAAIsD,EAAQ,EAAG,CAEb,IACImC,EADEpC,EAAQC,EAAQiB,EAAU,EAAImB,SAASpC,EAAQiB,GAAW,EAAIjB,EAAQiB,EAY5E,OAVIc,IAAe3G,GACjB+G,EAAW,KACXH,EAAe,WAAD,oBAA0BhC,EAA1B,+BAAsDD,EAAtD,cAEdoC,EAAW1B,EAAUX,SAASG,KAC9B+B,EACE,WADY,qBAEEf,EAFF,mCAEoCd,EAFpC,gBAEgDJ,EAFhD,aAKT,CACLD,SAAU,CACRC,QACAC,QACAC,KAAMkC,EAAQ,sBAAOA,GAAP,YAAoBlC,IAApB,YAAgCA,IAEhD7E,MAAO2G,EACP7B,kBAAkB,EAClBC,OACAzD,MAAO,MAWX,OARIA,GAEF2F,QAAQC,IAAI5F,EAAM6F,SAClBP,EAAe,WAAYtF,EAAM6F,UAGjCP,EAAe,OAAD,6BAET,EAAKL,oBAAoBI,GAAY,MA9C/B,OASXS,EATW,OAiDjB,EAAKxG,SAASwG,GACdpD,OAAOqD,YAAW,SAAA1G,GAChBqD,OAAOsD,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,aAEX,KAvDc,4C,oGA2DrB,WAAU,IAAD,OACC9C,EAAStD,KAAKxB,MAAM2E,SAApBG,KACR,OACE,qCACE,cAAC7C,EAAD,UACY,OAAT6C,GACCA,EAAK+C,KAAI,YAAiC,IAA9BhF,EAA6B,EAA7BA,GAAIiF,EAAyB,EAAzBA,aAAcxD,EAAW,EAAXA,KAC5B,OACE,cAAC,EAAD,CAEEzB,GAAIA,EACJC,IAAKgF,EACL/E,IAAKuB,EACLtB,QAAS,EAAKkC,aAJT6C,oBASdvG,KAAKxB,MAAM2E,SAASC,MAAQpD,KAAKxB,MAAMgF,MACtC,cAAC,GAAD,CAAQP,MAAK,oBAAetC,EAAf,aAA8Ca,QAASxB,KAAKiF,WAE1EjF,KAAKxB,MAAMiF,aACV,cAAC,GAAD,CACEzB,YAAahC,KAAKxB,MAAMwD,YACxBI,SAAUpC,KAAK0D,YACfrB,gBAAiBrC,KAAKqC,yB,GAvKP7B,aCTdgG,GAAU3I,IAAO8D,IAAV,ofCKL8E,GAJA,SAAC,GAAe,IAAbhI,EAAY,EAAZA,MAChB,OAAO,eAAC+H,GAAD,8BAA0B/H,EAA1B,UCFIiI,GAAa7I,IAAO8I,QAAV,2IAQVH,GAAU3I,IAAO8D,IAAV,mNAWPiF,GAAS/I,IAAOgJ,GAAV,+DCwCJC,G,4MArDbtI,MAAQ,CACNqG,OAAQ,OACRpG,MAAO,GACPsI,YAAa,I,EAGfC,iBAAmB,SAAAvI,GACjB,EAAKY,SAAS,CAAEwF,OAAQ,WAAYpG,W,EAGtCC,aAAe,CACbC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,G,EAGZoG,aAAe,SAAC2B,GAA6B,IAAlBrB,EAAiB,uDAAP,GACnC,EAAgC,EAAKpH,MAA7BqG,EAAR,EAAQA,OAAQkC,EAAhB,EAAgBA,YACZlC,IAAWoC,IACG,KAAZrB,GACEmB,IAAgBnB,GAClB9F,IAAMoH,KAAKtB,EAAS,EAAKlH,cAE3B,EAAKW,SAAS,CAAEwF,OAAQoC,EAAWF,YAAanB,KAEhD,EAAKvG,SAAS,CAAEwF,OAAQoC,M,4CAK9B,WACE,IAAQxI,EAAUuB,KAAKxB,MAAfC,MACR,OACE,eAACiI,GAAD,WACE,cAAC,EAAD,CAAW7G,SAAUG,KAAKgH,mBACH,SAAtBhH,KAAKxB,MAAMqG,QACV,eAAC,GAAD,WACGpG,GAAS,eAACmI,GAAD,qBAAgBnI,EAAhB,gBADZ,4CAKF,cAAC,GAAD,CAAcA,MAAOA,EAAO6G,aAActF,KAAKsF,eACxB,aAAtBtF,KAAKxB,MAAMqG,QAAyB,cAAC,GAAD,UAAU7E,KAAKxB,MAAMuI,cACnC,YAAtB/G,KAAKxB,MAAMqG,QAAwB,cAAC,GAAD,CAAQpG,MAAOA,W,GAhDzC+B,aCKH2G,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqB9B,MAAK,YAAkD,IAA/C+B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEF5B,SAAS6B,eAAe,SAE1BX,O","file":"static/js/main.b15bd7d2.chunk.js","sourcesContent":["import styled from '@emotion/styled';\r\n\r\nexport const SearchBarHeader = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14),\r\n    0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const SearchButton = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const SearchButtonSpan = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nexport const SearchInput = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import { PropTypes } from 'prop-types';\r\nimport { Component } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n  SearchBarHeader,\r\n  SearchForm,\r\n  SearchButton,\r\n  SearchButtonSpan,\r\n  SearchInput,\r\n} from './SearchBar.styled';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  toastOptions = {\r\n    position: 'top-right',\r\n    autoClose: 3000,\r\n    hideProgressBar: true,\r\n    closeOnClick: true,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    progress: undefined,\r\n  };\r\n  handleQueryChange = e => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const query = this.state.query.trim();\r\n\r\n    if (!query) {\r\n      toast.error(`Please input search value.`, this.toastOptions);\r\n      return;\r\n    }\r\n    this.props.onSubmit(query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <SearchBarHeader>\r\n        <SearchForm onSubmit={this.handleSubmit}>\r\n          <SearchButton type='submit'>\r\n            <SearchButtonSpan>Search</SearchButtonSpan>\r\n          </SearchButton>\r\n\r\n          <SearchInput\r\n            className='SearchForm-input'\r\n            type='text'\r\n            autocomplete='off'\r\n            name='pictureName'\r\n            autoFocus\r\n            placeholder='Search images and photos'\r\n            value={this.state.query}\r\n            onChange={this.handleQueryChange}\r\n          />\r\n          <ToastContainer />\r\n        </SearchForm>\r\n      </SearchBarHeader>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ImageGalleryUl = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n","export const API_URL = \"https://pixabay.com/api/\";\nexport const API_PARAMS = {\n  key: \"22594439-4316377fda5f0b6c1b052f095\",\n  imageType: \"photo\",\n  orientation: \"horizontal\",\n  safesearch: \"false\",\n  perPage: 12,\n};\n","import axios from \"axios\";\nimport { API_URL } from \"../constants/constants\";\n\nexport default axios.create({\n  baseURL: `${API_URL}`,\n  responseType: \"json\",\n});\n","import styled from '@emotion/styled';\r\n\r\nexport const ImageGalleryItemLi = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14),\r\n    0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const ImageGalleryItemImg = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import { PropTypes } from 'prop-types';\r\nimport { ImageGalleryItemImg, ImageGalleryItemLi } from './ImageGalleryItem.styled';\r\n\r\nconst ImageGalleryItem = ({ id, src, alt, onClick }) => {\r\n  return (\r\n    <ImageGalleryItemLi>\r\n      <ImageGalleryItemImg src={src} alt={alt} id={id} loading='lazy' onClick={onClick} />\r\n    </ImageGalleryItemLi>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const OverlayDiv = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\nexport const ModalDiv = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`;\r\nexport const ModalImg = styled.img`\r\n  width: 100%auto;\r\n`;\r\n","import { PropTypes } from 'prop-types';\r\nimport { Component } from 'react';\r\nimport { OverlayDiv, ModalDiv, ModalImg } from './Modal.styled';\r\n\r\nclass Modal extends Component {\r\n  onTapped = e => {\r\n    const { prev, next } = this.props.modalImages;\r\n    e.preventDefault();\r\n    if (e.key === 'Escape') this.props.exitFunc();\r\n    if (e.key === 'ArrowLeft') this.props.changeNeighbors(prev.id);\r\n    if (e.key === 'ArrowRight') this.props.changeNeighbors(next.id);\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onTapped);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onTapped);\r\n  }\r\n  onClickModal = e => {\r\n    if (e.target.nodeName === 'DIV') this.props.exitFunc();\r\n  };\r\n  render() {\r\n    const { curr } = this.props.modalImages;\r\n    return (\r\n      <OverlayDiv onClick={this.onClickModal}>\r\n        <ModalDiv>\r\n          <ModalImg src={curr.largeImageURL} alt={curr.tags} loading='lazy' />\r\n        </ModalDiv>\r\n      </OverlayDiv>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  modalImages: PropTypes.exact({\r\n    curr: PropTypes.object.isRequired,\r\n    prev: PropTypes.object.isRequired,\r\n    next: PropTypes.object.isRequired,\r\n  }),\r\n  exitFunc: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const LoadMoreButton = styled.button`\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14),\r\n    0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  &:hover,\r\n  &:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import { PropTypes } from 'prop-types';\r\nimport { LoadMoreButton } from './Button.styled';\r\n\r\nconst Button = ({ title, onClick }) => {\r\n  return <LoadMoreButton onClick={onClick}>{title}</LoadMoreButton>;\r\n};\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport { ImageGalleryUl } from './ImageGallery.styled';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport api from '../../services/api';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\nimport Button from '../Button/Button';\r\nimport { API_PARAMS } from '../../constants/constants';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    response: { pages: 0, total: 0, hits: null },\r\n    query: '',\r\n    readyForResponse: true,\r\n    page: 1,\r\n    error: null,\r\n    modalIsOpen: false,\r\n    modalImages: null,\r\n  };\r\n\r\n  toggleModal = e => {\r\n    if (e) {\r\n      e.preventDefault();\r\n      const currentId = e.target.id;\r\n      const images = this.getNeighbors(currentId);\r\n      this.setState(prevState => {\r\n        return { modalIsOpen: !prevState.modalIsOpen, modalImages: images };\r\n      });\r\n    } else {\r\n      this.setState(prevState => {\r\n        return { modalIsOpen: !prevState.modalIsOpen, modalImages: null };\r\n      });\r\n    }\r\n  };\r\n\r\n  changeNeighbors = id => {\r\n    const images = this.getNeighbors(id);\r\n    this.setState({ modalImages: images });\r\n  };\r\n\r\n  getNeighbors = id => {\r\n    const { hits } = this.state.response;\r\n    if (hits) {\r\n      for (let i = 0; i < hits.length; i++) {\r\n        if (hits[i].id.toString() === id.toString()) {\r\n          const prev = i === 0 ? hits[hits.length - 1] : hits[i - 1];\r\n          const next = i === hits.length - 1 ? hits[0] : hits[i + 1];\r\n          const curr = hits[i];\r\n          return { prev, curr, next };\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n\r\n  getResponse = async (query, page = this.state.page) => {\r\n    const { key, imageType, orientation, perPage } = API_PARAMS;\r\n    try {\r\n      const response = await api.get(`/`, {\r\n        params: {\r\n          q: query,\r\n          page,\r\n          key,\r\n          image_type: imageType,\r\n          orientation: orientation,\r\n          per_page: perPage,\r\n        },\r\n      });\r\n      if (response.status === 200) {\r\n        return response;\r\n      } else {\r\n        throw new Error('Error - ' + response.status);\r\n      }\r\n    } catch (error) {\r\n      return { data: { total: 0, hits: [], error } };\r\n    }\r\n  };\r\n\r\n  getClearStateObject = (query, readyForResponse = false) => {\r\n    return {\r\n      response: { pages: 0, total: 0, hits: null },\r\n      query: query,\r\n      readyForResponse: readyForResponse,\r\n      page: 1,\r\n      error: null,\r\n      modalIsOpen: false,\r\n    };\r\n  };\r\n  loadMore = () => {\r\n    this.setState({ page: this.state.page + 1, readyForResponse: true });\r\n  };\r\n\r\n  componentDidUpdate = async (prevProps, prevState) => {\r\n    const propsQuery = this.props.query;\r\n    const doChangeStatus = this.props.changeStatus;\r\n    const { query, readyForResponse, page } = this.state;\r\n\r\n    //если новый запрос\r\n    if (readyForResponse || propsQuery !== query) {\r\n      doChangeStatus('pending');\r\n      const perPage = API_PARAMS.perPage;\r\n      const newState = await this.getResponse(propsQuery)\r\n        .then(response => response.data)\r\n        .then(({ total, hits, error }) => {\r\n          if (total > 0) {\r\n            //найдено картинки\r\n            const pages = total % perPage > 0 ? parseInt(total / perPage) + 1 : total / perPage;\r\n            let prevHits;\r\n            if (propsQuery !== query) {\r\n              prevHits = null;\r\n              doChangeStatus('resolved', `Was found ${total} results. Avaliable ${pages} pages!`);\r\n            } else {\r\n              prevHits = prevState.response.hits;\r\n              doChangeStatus(\r\n                'resolved',\r\n                `Added more ${perPage} pictures! Current page ${page} of  ${pages} pages.`,\r\n              );\r\n            }\r\n            return {\r\n              response: {\r\n                pages,\r\n                total,\r\n                hits: prevHits ? [...prevHits, ...hits] : [...hits],\r\n              },\r\n              query: propsQuery,\r\n              readyForResponse: false,\r\n              page,\r\n              error: null,\r\n            };\r\n          }\r\n          if (error) {\r\n            //есть ошибка\r\n            console.dir(error.message);\r\n            doChangeStatus('rejected', error.message);\r\n          } else {\r\n            //не найдено картинки\r\n            doChangeStatus('idle', `Please, start new search.`);\r\n          }\r\n          return this.getClearStateObject(propsQuery, false);\r\n        });\r\n      //запись в стейт нового обьекта\r\n      this.setState(newState);\r\n      window.setTimeout(e => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      }, 300);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { hits } = this.state.response;\r\n    return (\r\n      <>\r\n        <ImageGalleryUl>\r\n          {hits !== null &&\r\n            hits.map(({ id, webformatURL, tags }) => {\r\n              return (\r\n                <ImageGalleryItem\r\n                  key={uuidv4()}\r\n                  id={id}\r\n                  src={webformatURL}\r\n                  alt={tags}\r\n                  onClick={this.toggleModal}\r\n                />\r\n              );\r\n            })}\r\n        </ImageGalleryUl>\r\n        {this.state.response.pages > this.state.page && (\r\n          <Button title={`load more ${API_PARAMS.perPage} pictures`} onClick={this.loadMore} />\r\n        )}\r\n        {this.state.modalIsOpen && (\r\n          <Modal\r\n            modalImages={this.state.modalImages}\r\n            exitFunc={this.toggleModal}\r\n            changeNeighbors={this.changeNeighbors}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n  changeStatus: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const InfoDiv = styled.div`\r\n  position: fixed;\r\n  top: 40%;\r\n  padding: 40px;\r\n  text-align: center;\r\n  margin: 50px auto;\r\n  font-size: 50px;\r\n  font-weight: 800;\r\n  color: lightgrey;\r\n  filter: drop-shadow(2px 4px 6px black);\r\n  background: linear-gradient(217deg, rgba(255, 0, 0, 0.8), rgba(255, 0, 0, 0) 70.71%),\r\n    linear-gradient(127deg, rgba(0, 255, 0, 0.8), rgba(0, 255, 0, 0) 70.71%),\r\n    linear-gradient(336deg, rgba(0, 0, 255, 0.8), rgba(0, 0, 255, 0) 70.71%);\r\n  border-radius: 50px;\r\n`;\r\n","import { PropTypes } from 'prop-types';\r\nimport { InfoDiv } from './Loader.styled';\r\n\r\nconst Loader = ({ query }) => {\r\n  return <InfoDiv>Searching for a {query}...</InfoDiv>;\r\n};\r\n\r\nexport default Loader;\r\n\r\nLoader.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const AppSection = styled.section`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 16px;\r\n  padding-bottom: 24px;\r\n  margin-top: 0;\r\n`;\r\n\r\nexport const InfoDiv = styled.div`\r\n  position: fixed;\r\n  top: 40%;\r\n  text-align: center;\r\n  margin: 50px auto;\r\n  font-size: 50px;\r\n  font-weight: 800;\r\n  color: lightgrey;\r\n  filter: drop-shadow(2px 4px 6px black);\r\n`;\r\n\r\nexport const InfoH1 = styled.h1`\r\n  color: black;\r\n  margin-top: 0;\r\n`;\r\n","import SearchBar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Loader from '../Loader/Loader';\nimport { AppSection, InfoDiv, InfoH1 } from './App.styled';\nimport { Component } from 'react';\nimport { toast } from 'react-toastify';\n\nclass App extends Component {\n  state = {\n    status: 'idle',\n    query: '',\n    lastMessage: '',\n  };\n\n  handleFormSubmit = query => {\n    this.setState({ status: 'resolved', query });\n  };\n\n  toastOptions = {\n    position: 'top-right',\n    autoClose: 3000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  };\n\n  changeStatus = (newStatus, message = '') => {\n    const { status, lastMessage } = this.state;\n    if (status !== newStatus) {\n      if (message !== '') {\n        if (lastMessage !== message) {\n          toast.info(message, this.toastOptions);\n        }\n        this.setState({ status: newStatus, lastMessage: message });\n      } else {\n        this.setState({ status: newStatus });\n      }\n    }\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <AppSection>\n        <SearchBar onSubmit={this.handleFormSubmit} />\n        {this.state.status === 'idle' && (\n          <InfoDiv>\n            {query && <InfoH1>Sorry, {query} not found</InfoH1>}\n            Waiting for you to start new searching\n          </InfoDiv>\n        )}\n        <ImageGallery query={query} changeStatus={this.changeStatus} />\n        {this.state.status === 'rejected' && <InfoDiv>{this.state.lastMessage}</InfoDiv>}\n        {this.state.status === 'pending' && <Loader query={query} />}\n      </AppSection>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\nreportWebVitals();\n"],"sourceRoot":""}